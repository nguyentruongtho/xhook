{"version":3,"file":"xhook.js","sources":["../src/misc/array.js","../src/misc/window.js","../src/misc/events.js","../src/misc/event-emitter.js","../src/misc/headers.js","../src/misc/hooks.js","../src/patch/xmlhttprequest.js","../src/patch/fetch.js","../src/main.js"],"sourcesContent":["//if required, add 'indexOf' method to Array\nif (!Array.prototype.indexOf) {\n  Array.prototype.indexOf = function(item) {\n    for (let i = 0; i < this.length; i++) {\n      const x = this[i];\n      if (x === item) {\n        return i;\n      }\n    }\n    return -1;\n  };\n}\n\nconst slice = (o, n) => Array.prototype.slice.call(o, n);\n\nexport { slice };\n","let result = null;\n\n//find global object\nif (\n  typeof WorkerGlobalScope !== \"undefined\" &&\n  self instanceof WorkerGlobalScope\n) {\n  result = self;\n} else if (typeof global !== \"undefined\") {\n  result = global;\n} else if (window) {\n  result = window;\n}\n\n//find IE version\nconst useragent =\n  typeof navigator !== \"undefined\" && navigator[\"useragent\"]\n    ? navigator.userAgent\n    : \"\";\n\nexport let msie = null;\nif (\n  /msie (\\d+)/.test(useragent.toLowerCase()) ||\n  /trident\\/.*; rv:(\\d+)/.test(useragent.toLowerCase())\n) {\n  msie = parseInt(RegExp.$1, 10);\n}\n\nexport const windowRef = result;\nexport const documentRef = result.document;\n","import { documentRef } from \"./window\";\n\nexport const UPLOAD_EVENTS = [\"load\", \"loadend\", \"loadstart\"];\nexport const COMMON_EVENTS = [\"progress\", \"abort\", \"error\", \"timeout\"];\n\nconst depricatedProp = p =>\n  [\"returnValue\", \"totalSize\", \"position\"].includes(p);\n\nexport const mergeObjects = function(src, dst) {\n  for (let k in src) {\n    if (depricatedProp(k)) {\n      continue;\n    }\n    const v = src[k];\n    try {\n      dst[k] = v;\n    } catch (error) {}\n  }\n  return dst;\n};\n\n//proxy events from one emitter to another\nexport const proxyEvents = function(events, src, dst) {\n  const p = event =>\n    function(e) {\n      const clone = {};\n      //copies event, with dst emitter inplace of src\n      for (let k in e) {\n        if (depricatedProp(k)) {\n          continue;\n        }\n        const val = e[k];\n        clone[k] = val === src ? dst : val;\n      }\n      //emits out the dst\n      return dst.dispatchEvent(event, clone);\n    };\n  //dont proxy manual events\n  for (let event of Array.from(events)) {\n    if (dst._has(event)) {\n      src[`on${event}`] = p(event);\n    }\n  }\n};\n\n//create fake event\nexport const fakeEvent = function(type) {\n  if (documentRef && documentRef.createEventObject != null) {\n    const msieEventObject = documentRef.createEventObject();\n    msieEventObject.type = type;\n    return msieEventObject;\n  }\n  // on some platforms like android 4.1.2 and safari on windows, it appears\n  // that new Event is not allowed\n  try {\n    return new Event(type);\n  } catch (error) {\n    return { type };\n  }\n};\n","import { slice } from \"./array\";\nimport { mergeObjects, fakeEvent } from \"./events\";\n\n//tiny event emitter\nexport const EventEmitter = function(nodeStyle) {\n  //private\n  let events = {};\n  const listeners = event => events[event] || [];\n  //public\n  const emitter = {};\n  emitter.addEventListener = function(event, callback, i) {\n    events[event] = listeners(event);\n    if (events[event].indexOf(callback) >= 0) {\n      return;\n    }\n    i = i === undefined ? events[event].length : i;\n    events[event].splice(i, 0, callback);\n  };\n  emitter.removeEventListener = function(event, callback) {\n    //remove all\n    if (event === undefined) {\n      events = {};\n      return;\n    }\n    //remove all of type event\n    if (callback === undefined) {\n      events[event] = [];\n    }\n    //remove particular handler\n    const i = listeners(event).indexOf(callback);\n    if (i === -1) {\n      return;\n    }\n    listeners(event).splice(i, 1);\n  };\n  emitter.dispatchEvent = function() {\n    const args = slice(arguments);\n    const event = args.shift();\n    if (!nodeStyle) {\n      args[0] = mergeObjects(args[0], fakeEvent(event));\n    }\n    const legacylistener = emitter[`on${event}`];\n    if (legacylistener) {\n      legacylistener.apply(emitter, args);\n    }\n    const iterable = listeners(event).concat(listeners(\"*\"));\n    for (let i = 0; i < iterable.length; i++) {\n      const listener = iterable[i];\n      listener.apply(emitter, args);\n    }\n  };\n  emitter._has = event => !!(events[event] || emitter[`on${event}`]);\n  //add extra aliases\n  if (nodeStyle) {\n    emitter.listeners = event => slice(listeners(event));\n    emitter.on = emitter.addEventListener;\n    emitter.off = emitter.removeEventListener;\n    emitter.fire = emitter.dispatchEvent;\n    emitter.once = function(e, fn) {\n      var fire = function() {\n        emitter.off(e, fire);\n        return fn.apply(null, arguments);\n      };\n      return emitter.on(e, fire);\n    };\n    emitter.destroy = () => (events = {});\n  }\n\n  return emitter;\n};\n","//helper\nconst convert = function(h, dest) {\n  let name;\n  if (dest == null) {\n    dest = {};\n  }\n  switch (typeof h) {\n    case \"object\":\n      var headers = [];\n      for (let k in h) {\n        const v = h[k];\n        name = k.toLowerCase();\n        headers.push(`${name}:\\t${v}`);\n      }\n      return headers.join(\"\\n\") + \"\\n\";\n    case \"string\":\n      headers = h.split(\"\\n\");\n      for (let header of Array.from(headers)) {\n        if (/([^:]+):\\s*(.+)/.test(header)) {\n          name = RegExp.$1 != null ? RegExp.$1.toLowerCase() : undefined;\n          const value = RegExp.$2;\n          if (dest[name] == null) {\n            dest[name] = value;\n          }\n        }\n      }\n      return dest;\n  }\n  return [];\n};\n\nexport default { convert };\n","import { EventEmitter } from \"./event-emitter\";\n\n//global set of hook functions,\n//uses event emitter to store hooks\nconst hooks = EventEmitter(true);\n\nexport default hooks;\n","import { windowRef, msie } from \"../misc/window\";\nimport {\n  proxyEvents,\n  mergeObjects,\n  COMMON_EVENTS,\n  UPLOAD_EVENTS\n} from \"../misc/events\";\nimport { EventEmitter } from \"../misc/event-emitter\";\nimport headers from \"../misc/headers\";\nimport hooks from \"../misc/hooks\";\n\nconst nullify = res => (res === undefined ? null : res);\n\n//browser's XMLHttpRequest\nconst Native = windowRef.XMLHttpRequest;\n\n//xhook's XMLHttpRequest\nconst Xhook = function() {\n  const ABORTED = -1;\n  const xhr = new Native();\n\n  //==========================\n  // Extra state\n  const request = {};\n  let status = null;\n  let hasError = undefined;\n  let transiting = undefined;\n  let response = undefined;\n  var currentState = 0;\n\n  //==========================\n  // Private API\n\n  //read results from real xhr into response\n  const readHead = function() {\n    // Accessing attributes on an aborted xhr object will\n    // throw an 'c00c023f error' in IE9 and lower, don't touch it.\n    response.status = status || xhr.status;\n    if (status !== ABORTED || !(msie < 10)) {\n      response.statusText = xhr.statusText;\n    }\n    if (status !== ABORTED) {\n      const object = headers.convert(xhr.getAllResponseHeaders());\n      for (let key in object) {\n        const val = object[key];\n        if (!response.headers[key]) {\n          const name = key.toLowerCase();\n          response.headers[name] = val;\n        }\n      }\n      return;\n    }\n  };\n\n  const readBody = function() {\n    //https://xhr.spec.whatwg.org/\n    if (!xhr.responseType || xhr.responseType === \"text\") {\n      response.text = xhr.responseText;\n      response.data = xhr.responseText;\n      try {\n        response.xml = xhr.responseXML;\n      } catch (error) {}\n      // unable to set responseXML due to response type, we attempt to assign responseXML\n      // when the type is text even though it's against the spec due to several libraries\n      // and browser vendors who allow this behavior. causing these requests to fail when\n      // xhook is installed on a page.\n    } else if (xhr.responseType === \"document\") {\n      response.xml = xhr.responseXML;\n      response.data = xhr.responseXML;\n    } else {\n      response.data = xhr.response;\n    }\n    //new in some browsers\n    if (\"responseURL\" in xhr) {\n      response.finalUrl = xhr.responseURL;\n    }\n  };\n\n  //write response into facade xhr\n  const writeHead = function() {\n    facade.status = response.status;\n    facade.statusText = response.statusText;\n  };\n\n  const writeBody = function() {\n    if (\"text\" in response) {\n      facade.responseText = response.text;\n    }\n    if (\"xml\" in response) {\n      facade.responseXML = response.xml;\n    }\n    if (\"data\" in response) {\n      facade.response = response.data;\n    }\n    if (\"finalUrl\" in response) {\n      facade.responseURL = response.finalUrl;\n    }\n  };\n\n  const emitFinal = function() {\n    if (!hasError) {\n      facade.dispatchEvent(\"load\", {});\n    }\n    facade.dispatchEvent(\"loadend\", {});\n    if (hasError) {\n      facade.readyState = 0;\n    }\n  };\n\n  //ensure ready state 0 through 4 is handled\n  const emitReadyState = function(n) {\n    while (n > currentState && currentState < 4) {\n      facade.readyState = ++currentState;\n      // make fake events for libraries that actually check the type on\n      // the event object\n      if (currentState === 1) {\n        facade.dispatchEvent(\"loadstart\", {});\n      }\n      if (currentState === 2) {\n        writeHead();\n      }\n      if (currentState === 4) {\n        writeHead();\n        writeBody();\n      }\n      facade.dispatchEvent(\"readystatechange\", {});\n      //delay final events incase of error\n      if (currentState === 4) {\n        if (request.async === false) {\n          emitFinal();\n        } else {\n          setTimeout(emitFinal, 0);\n        }\n      }\n    }\n  };\n\n  //control facade ready state\n  const setReadyState = function(n) {\n    //emit events until readyState reaches 4\n    if (n !== 4) {\n      emitReadyState(n);\n      return;\n    }\n    //before emitting 4, run all 'after' hooks in sequence\n    const afterHooks = hooks.listeners(\"after\");\n    var process = function() {\n      if (afterHooks.length > 0) {\n        //execute each 'before' hook one at a time\n        const hook = afterHooks.shift();\n        if (hook.length === 2) {\n          hook(request, response);\n          process();\n        } else if (hook.length === 3 && request.async) {\n          hook(request, response, process);\n        } else {\n          process();\n        }\n      } else {\n        //response ready for reading\n        emitReadyState(4);\n      }\n      return;\n    };\n    process();\n  };\n\n  //==========================\n  // Facade XHR\n  var facade = EventEmitter();\n  request.xhr = facade;\n\n  // Handle the underlying ready state\n  xhr.onreadystatechange = function(event) {\n    //pull status and headers\n    try {\n      if (xhr.readyState === 2) {\n        readHead();\n      }\n    } catch (error) {}\n    //pull response data\n    if (xhr.readyState === 4) {\n      transiting = false;\n      readHead();\n      readBody();\n    }\n\n    setReadyState(xhr.readyState);\n  };\n\n  //mark this xhr as errored\n  const hasErrorHandler = function() {\n    hasError = true;\n  };\n  facade.addEventListener(\"error\", hasErrorHandler);\n  facade.addEventListener(\"timeout\", hasErrorHandler);\n  facade.addEventListener(\"abort\", hasErrorHandler);\n  // progress means we're current downloading...\n  facade.addEventListener(\"progress\", function(event) {\n    if (currentState < 3) {\n      setReadyState(3);\n    } else if (xhr.readyState <= 3) {\n      //until ready (4), each progress event is followed by readystatechange...\n      facade.dispatchEvent(\"readystatechange\", {}); //TODO fake an XHR event\n    }\n  });\n\n  // initialise 'withCredentials' on facade xhr in browsers with it\n  // or if explicitly told to do so\n  if (\"withCredentials\" in xhr) {\n    facade.withCredentials = false;\n  }\n  facade.status = 0;\n\n  // initialise all possible event handlers\n  for (let event of Array.from(COMMON_EVENTS.concat(UPLOAD_EVENTS))) {\n    facade[`on${event}`] = null;\n  }\n\n  facade.open = function(method, url, async, user, pass) {\n    // Initailize empty XHR facade\n    currentState = 0;\n    hasError = false;\n    transiting = false;\n    //reset request\n    request.headers = {};\n    request.headerNames = {};\n    request.status = 0;\n    request.method = method;\n    request.url = url;\n    request.async = async !== false;\n    request.user = user;\n    request.pass = pass;\n    //reset response\n    response = {};\n    response.headers = {};\n    // openned facade xhr (not real xhr)\n    setReadyState(1);\n  };\n\n  facade.send = function(body) {\n    //read xhr settings before hooking\n    let k, modk;\n    for (k of [\"type\", \"timeout\", \"withCredentials\"]) {\n      modk = k === \"type\" ? \"responseType\" : k;\n      if (modk in facade) {\n        request[k] = facade[modk];\n      }\n    }\n\n    request.body = body;\n    const send = function() {\n      //proxy all events from real xhr to facade\n      proxyEvents(COMMON_EVENTS, xhr, facade);\n      //proxy all upload events from the real to the upload facade\n      if (facade.upload) {\n        proxyEvents(\n          COMMON_EVENTS.concat(UPLOAD_EVENTS),\n          xhr.upload,\n          facade.upload\n        );\n      }\n\n      //prepare request all at once\n      transiting = true;\n      //perform open\n      xhr.open(\n        request.method,\n        request.url,\n        request.async,\n        request.user,\n        request.pass\n      );\n\n      //write xhr settings\n      for (k of [\"type\", \"timeout\", \"withCredentials\"]) {\n        modk = k === \"type\" ? \"responseType\" : k;\n        if (k in request) {\n          xhr[modk] = request[k];\n        }\n      }\n\n      //insert headers\n      for (let header in request.headers) {\n        const value = request.headers[header];\n        if (header) {\n          xhr.setRequestHeader(header, value);\n        }\n      }\n      //real send!\n      xhr.send(request.body);\n    };\n\n    const beforeHooks = hooks.listeners(\"before\");\n    //process beforeHooks sequentially\n    var process = function() {\n      if (!beforeHooks.length) {\n        return send();\n      }\n      //go to next hook OR optionally provide response\n      const done = function(userResponse) {\n        //break chain - provide dummy response (readyState 4)\n        if (\n          typeof userResponse === \"object\" &&\n          (typeof userResponse.status === \"number\" ||\n            typeof response.status === \"number\")\n        ) {\n          mergeObjects(userResponse, response);\n          if (!(\"data\" in userResponse)) {\n            userResponse.data = userResponse.response || userResponse.text;\n          }\n          setReadyState(4);\n          return;\n        }\n        //continue processing until no beforeHooks left\n        process();\n      };\n      //specifically provide headers (readyState 2)\n      done.head = function(userResponse) {\n        mergeObjects(userResponse, response);\n        setReadyState(2);\n      };\n      //specifically provide partial text (responseText  readyState 3)\n      done.progress = function(userResponse) {\n        mergeObjects(userResponse, response);\n        setReadyState(3);\n      };\n\n      const hook = beforeHooks.shift();\n      //async or sync?\n      if (hook.length === 1) {\n        done(hook(request));\n      } else if (hook.length === 2 && request.async) {\n        //async handlers must use an async xhr\n        hook(request, done);\n      } else {\n        //skip async hook on sync requests\n        done();\n      }\n      return;\n    };\n    //kick off\n    process();\n  };\n\n  facade.abort = function() {\n    status = ABORTED;\n    if (transiting) {\n      xhr.abort(); //this will emit an 'abort' for us\n    } else {\n      facade.dispatchEvent(\"abort\", {});\n    }\n  };\n\n  facade.setRequestHeader = function(header, value) {\n    //the first header set is used for all future case-alternatives of 'name'\n    const lName = header != null ? header.toLowerCase() : undefined;\n    const name = (request.headerNames[lName] =\n      request.headerNames[lName] || header);\n    //append header to any previous values\n    if (request.headers[name]) {\n      value = request.headers[name] + \", \" + value;\n    }\n    request.headers[name] = value;\n  };\n  facade.getResponseHeader = header =>\n    nullify(response.headers[header ? header.toLowerCase() : undefined]);\n\n  facade.getAllResponseHeaders = () =>\n    nullify(headers.convert(response.headers));\n\n  //proxy call only when supported\n  if (xhr.overrideMimeType) {\n    facade.overrideMimeType = function() {\n      xhr.overrideMimeType.apply(xhr, arguments);\n    };\n  }\n\n  //create emitter when supported\n  if (xhr.upload) {\n    let up = EventEmitter();\n    facade.upload = up;\n    request.upload = up;\n  }\n\n  facade.UNSENT = 0;\n  facade.OPENED = 1;\n  facade.HEADERS_RECEIVED = 2;\n  facade.LOADING = 3;\n  facade.DONE = 4;\n\n  // fill in default values for an empty XHR object according to the spec\n  facade.response = \"\";\n  facade.responseText = \"\";\n  facade.responseXML = null;\n  facade.readyState = 0;\n  facade.statusText = \"\";\n\n  return facade;\n};\n\nXhook.UNSENT = 0;\nXhook.OPENED = 1;\nXhook.HEADERS_RECEIVED = 2;\nXhook.LOADING = 3;\nXhook.DONE = 4;\n\n//patch interface\nexport default {\n  patch() {\n    if (Native) {\n      windowRef.XMLHttpRequest = Xhook;\n    }\n  },\n  unpatch() {\n    if (Native) {\n      windowRef.XMLHttpRequest = Native;\n    }\n  },\n  Native,\n  Xhook\n};\n","import { windowRef } from \"../misc/window\";\nimport { mergeObjects } from \"../misc/events\";\nimport hooks from \"../misc/hooks\";\n\n//browser's fetch\nconst Native = windowRef.fetch;\n\n//xhook's fetch\nconst Xhook = function(url, options) {\n  if (options == null) {\n    options = { headers: {} };\n  }\n\n  let request = null;\n\n  if (url instanceof Request) {\n    request = url\n  } else {\n    options.url = url;\n  }\n\n  const beforeHooks = hooks.listeners(\"before\");\n  const afterHooks = hooks.listeners(\"after\");\n\n  return new Promise(function(resolve, reject) {\n    let fullfiled = resolve\n    const getRequest = function() {\n      if (options.headers) {\n        options.headers = new Headers(options.headers);\n      }\n\n      if (!request) {\n        request = new Request(options.url, options);\n      }\n\n      return mergeObjects(options, request);\n    };\n\n    var processAfter = function(response) {\n      if (!afterHooks.length) {\n        return fullfiled(response);\n      }\n\n      const hook = afterHooks.shift();\n\n      if (hook.length === 2) {\n        hook(getRequest(), response);\n        return processAfter(response);\n      } else if (hook.length === 3) {\n        return hook(getRequest(), response, processAfter);\n      } else {\n        return processAfter(response);\n      }\n    };\n\n    const done = function(userResponse) {\n      if (userResponse !== undefined) {\n        const response = new Response(\n          userResponse.body || userResponse.text,\n          userResponse\n        );\n        resolve(response);\n        processAfter(response);\n        return;\n      }\n\n      //continue processing until no hooks left\n      processBefore();\n    };\n\n    var processBefore = function() {\n      if (!beforeHooks.length) {\n        send();\n        return;\n      }\n\n      const hook = beforeHooks.shift();\n\n      if (hook.length === 1) {\n        return done(hook(options));\n      } else if (hook.length === 2) {\n        return hook(getRequest(), done);\n      }\n    };\n\n    var send = () =>\n      Native(getRequest())\n        .then(response => processAfter(response))\n        .catch(function(err) {\n          fullfiled = reject\n          processAfter(err);\n          return reject(err);\n        });\n\n    processBefore();\n  });\n};\n\n//patch interface\nexport default {\n  patch() {\n    if (Native) {\n      windowRef.fetch = Xhook;\n    }\n  },\n  unpatch() {\n    if (Native) {\n      windowRef.fetch = Native;\n    }\n  },\n  Native,\n  Xhook\n};\n","import { EventEmitter } from \"./misc/event-emitter\";\nimport headers from \"./misc/headers\";\n\n//patchable types\nimport XMLHttpRequest from \"./patch/xmlhttprequest\";\nimport fetch from \"./patch/fetch\";\n\n//global state\nimport hooks from \"./misc/hooks\";\n//the global hooks event emitter is also the global xhook object\n//(not the best decision in hindsight)\nconst xhook = hooks;\nxhook.EventEmitter = EventEmitter;\n//modify hooks\nxhook.before = function(handler, i) {\n  if (handler.length < 1 || handler.length > 2) {\n    throw \"invalid hook\";\n  }\n  return xhook.on(\"before\", handler, i);\n};\nxhook.after = function(handler, i) {\n  if (handler.length < 2 || handler.length > 3) {\n    throw \"invalid hook\";\n  }\n  return xhook.on(\"after\", handler, i);\n};\n\n//globally enable/disable\nxhook.enable = function() {\n  XMLHttpRequest.patch();\n  fetch.patch();\n};\nxhook.disable = function() {\n  XMLHttpRequest.unpatch();\n  fetch.unpatch();\n};\n//expose native objects\nxhook.XMLHttpRequest = XMLHttpRequest.Native;\nxhook.fetch = fetch.Native;\n\n//expose helpers\nxhook.headers = headers.convert;\n\n//enable by default\nxhook.enable();\n\n\nexport default xhook;\n"],"names":["Native","Xhook"],"mappings":"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"}